#1 Loja de Laço da Cria Website in Laravel 6.0|7.0|8.0 | Install Laravel 6.0 | Install Authentication

Bemvindo a loja de laço da cris. nós trabalharemos no Laravel com Multi Auth, Guards,
Vue scaffolding, Migrations, Seeding etc. etc.

Laravel é um dos mais populares PHP framework para desenvolver websites. E recentemente, a versão Laravel 6
foi atualizada e nós usaremos para nosso website.

nós instalaremos Laravel 6 e então instalaremos Authenticação para criar default login/register.

1) Install Laravel 6.0 :-
Follow our another tutorial to install Laravel 6.0 :
https://youtu.be/tsDWyuwpOB4 (for Windows)
composer create-project --prefer-dist laravel/laravel loja_de_laco "6.*"
https://youtu.be/VxqNkYfiSik (for Mac)

2) Install Authentication / Scaffolding :-
After installing the Laravel 6.0 successfully, now we require to install Authentication / Scaffolding that helps to
make default login/register panel in our new Laravel website.

Scaffolding refere-se para rápido esqueleto do website que cobre a Authenticação do website.

Follow below video to add Authentication :-
https://youtu.be/GWl5-VLCiJA
composer require laravel/ui --dev
php artisan ui vue --auth
npm i && npm run dev

#2 Make Advance E-com Website in Laravel 6.0 | Make Admin Panel in Laravel 6 | Merge AdminLTE 3

In the 2nd Part of Advance E-com series, we will download one of the best free responsive admin template i.e. AdminLTE 3
and merge it into our Laravel 6 E-com website.

1) Download Template :-
Open website https://adminlte.io to download the latest version of AdminLTE 3.

2) Merge Template :-
Now we will start merging AdminLTE template files into our Laravel website.

We will copy CSS, JS, Images and Plugins from AdminLTE template to our Laravel file structure.

2.1) Copy CSS Files :-
We will create admin_css folder under /public/css and copy all CSS files from dist/css/ folder from AdminLTE into it.

2.2) Copy JS Files :-
We will create admin_js folder under /public/js and copy all JS files from dist/js/ AdminLTE into it.

2.3) Copy Images :-
We will create admin_images folder under /public/images and copy all Images files from dist/img/ AdminLTE into it.

2.4) Plugins Folder :-
We will copy plugins folder from AdminLTE folder and paste into public folder in our Laravel website.

3) Create admin_layout Folder and admin_layout.blade.php File :-
We will create admin_layout Folder under resources/views/layouts/ path in which we will create admin_layout.blade.php file.

We will copy content from index.html file from AdminLTE folder and paste it into this admin_layout.blade.php file.
Before making further changes in this file, we will also create below files under admin_layout Folder :-

admin_header.blade.php file
admin_footer.blade.php file
admin_sidebar.blade.php file

We will add content into above three files and will also update admin_layout.blade.php file as shown in video.

In admin_header.blade.php file, add Navbar related code and we will include admin_header.blade.php file in admin_layout.blade.php
file like below :-
@include('layouts.admin_layout.admin_header')

In admin_footer.blade.php file, add footer related code and we will include admin_footer.blade.php file in admin_layout.blade.php
file like below :-.
@include('layouts.admin_layout.admin_footer')

In admin_sidebar.blade.php file, add sidebar related code and and we will include admin_sidebar.blade.php file in
admin_layout.blade.php file like below :-
@include('layouts.admin_layout.admin_sidebar')

For middle content, add admin_dashboard.blade.php file under admin folder that we will create under /resources/views/ path and
we will include in admin_layout.blade.php file like below :-
@yield('content')


#3 Make Advance E-com Website in Laravel 6.0 | Admin Panel | Merge AdminLTE 3 | Layout / Dashboard

In Part 3,  we will update layout files; header, footer and sidebar to correct css/js/images and plugins paths. We will also create route, function for admin dashboard page and set its design as well.

1) Update admin_layout.blade.php file :-
First of all, we will update admin_layout.blade.php file to add Laravel asset/url to css/js/images and plugins paths.

2) Update admin_header.blade.php file :-
Now we will update admin_header.blade.php file to add Laravel asset to images paths.

3) Update admin_sidebar.blade.php file :-
Now we will update admin_sidebar.blade.php file to add Laravel asset to images paths.

4) Update admin_dashboard.blade.php file :-
Now we will update admin_dashboard.blade.php file to add Laravel asset to images paths.

5) Create AdminController.php file :-
Now create Admin folder under /app/Http/Controllers/ and then create AdminController.php file under Admin folder by running below artisan command :-
php artisan make:controller Admin/AdminController

We will keep all Admin Controllers separate from Front Controllers that will help us to do clear coding.

6) Create Route :-
We will create separate group in web.php file for admin routes so that we can keep them separately with namespace Admin and prefix admin.

Learn more about Routing/Controllers including namespaces/route groups in Laravel 6 Basics playlist :-
https://www.youtube.com/playlist?list...

We have added dashboard route without any authentication for now but in upcoming videos, we will add Guard Auth for admin routes.

7) Create function :-
We will create dashboard function in AdminController and will return to admin_dashboard.blade.php file.

You can see the view of dashboard page by opening below link :-
http://127.0.0.1:8000/admin/dashboard

#4 Make Advance E-com Website in Laravel 6.0 | Admin Panel | Merge AdminLTE 3 | Admin Login Design

In Part-4, we will create admin login page. We will copy design/content of admin login from AdminLTE template and merge into our Laravel 6 E-com Admin Panel.

1) Create Route :-
First of all, create GET/POST route for admin login in Admin route group like below :-
Route::match(['get','post'],'/','AdminController@login');

2) Create Function :-
Now create login function in AdminController that will return to admin_login.blade.php file that we will create in next step.

3) Create admin_login.blade.php file :-
Now we will create admin_login.blade.php file in /resources/views/admin/ folder in which we will add content from login.html page from AdminLTE/pages/examples/ folder. We will not add admin design to it as admin design layout with header, footer and sidebar is for the internal pages of admin.

We will also correct paths in admin_login.blade.php file.

You can see in video; our admin login page is ready.

#5 Make Advance E-com Website in Laravel 6.0 | Multi Auth | Guards for Admin | Auth for Users

In Part-5, we will start working on Multi Authentication for our Advance E-com website in Laravel 6. We will use Guards for Admins and default Laravel Auth for Users.

We will follow below steps to set Guards for Admin Panel / Admins.

1) Create Migration File
First of all, we will create migration file with name create_admins_table for creating admins table with below columns :-
id, name, type, mobile, email, email_verified_at, password, image, status

So, we will run below artisan command to create migration file for admins :-
php artisan make:migration create_admins_table

Open create_admins_table migration file and add all required columns mentioned earlier.

Now we will run below artisan command to create admins table with required columns :-
php artisan migrate

2) Create Admin model :-
Now we will create Admin model with below artisan command :-
php artisan make:model Admin

We will update content of Admin model file to set protected guard variable for admin and set other variables as shown in video.

We will also extends Admin class to Authenticatable and add its namespace as well.

3) Update auth.php file :-
We will update auth.php file located at config\auth.php to set guards for admin to assign session in
driver and admins in provider as shown in video.

We will also set providers for admins to assign eloquent in driver and Admin class in model.

4) Create Admin Middleware :-
Now we will create Admin Middleware file by running below command :-
php artisan make:middleware Admin

5) Update kernel.php file :-
Now we will update kernel.php file located at app\http\ folder to register Admin middleware as global as shown in video.

6) Update Admin Middleware
Add Auth:guard check in Admin Middleware to protect the admin routes. This check will be false for now as we have not registered the admin guard yet.

7) Update web.php file :-
Add admin middleware group and move admin dashboard route under it to protect it from unauthorised access.

Now no one can access admin dashboard without login into the admin panel.  We have used Guards to protect the admin routes including dashboard route.

#6 Make Advance E-com Website in Laravel 6.0 | Database Seeding | Writing Seeders | Running Seeders

In Part-6 of Advance E-com series, though we will continue working on Multi-Authentication and will use guards for admin login. But in this video, we will work on Seeding for our Laravel 6 E-com website. Seeding helps us to insert data into table from file and will also help us for future projects to automatically create table with migration and data with seeding.

We will create Seeding for admins table to automatically insert admin data from file and it will help us in our next project as well.

1) Writing Seeder / Create AdminsTableSeeder file :-
First of all, we will generate seeder and create AdminsTableSeeder file where we will add record for admins table.

Run below artisan command to generate Seeder and create AdminsTableSeeder file :-
php artisan make:seeder AdminsTableSeeder

Above command will create AdminsTableSeeder.php file at \database\seeds\

Now open AdminsTableSeeder file and add record for admin.

We will generate hash password for admin by using Hash::make function as shown in video.

2) Update Admin model :-
Now we need to update Admin model to add all admins table columns in fillable array as shown in video.

3) Update DatabaseSeeder.php file :-
Now update DatabaseSeeder.php file located at database/seeds/ to add AdminsTableSeeder class as shown in video.

4) Running Seeders / Run below command :-
Once you have written your seeder, you may need to regenerate Composer's autoloader using the dump-autoload command:
composer dump-autoload

5) Run below command :-
Now run last command that will finally insert admin record into admins table that we can use for admin login.
php artisan db:seed

You can see in video; we able to generate record for admins table with hash password.

#7 Make Advance E-com Website in Laravel 6.0 | Multi Authentication | Admin Panel Login with Guard

In Part-7, we will continue working on Multi Authentication for our Advance E-com website in Laravel 6.

We will work on admin login and logout functionality with Guards. We will register admin guard every time when admin logged in and destroy it every time when admin logged out from the admin panel.

1) Update admin_login.blade.php file :-
First of all, we will update admin_login.blade.php file to update Login form. We will set its action, CSRF token, username (email) and password.

2) Update login function :-
Now we will update login function at AdminController. We will add the condition for posted data and use guard for admin login as shown in video.

You can try login with username admin@admin.com and password 123456 that we have set in last video with Seeding.

Once logged in, we will redirect the user to Dashboard page and if the username or password is incorrect then we can redirect back the user and flash error message in admin login page.

3) Update admin_header.blade.php file :-
Remove all unwanted code and add "Logout" link for the user at top right side of the header as shown in video.

4) Create Route :-
Now we will create GET route for Admin Logout in web.php file like below :-

// Admin Logout
Route::get('logout','AdminController@logout');

5) Create logout function :-
Now we will create logout function in AdminController in which we will unset admin guard as shown in video.

6) Update admin_login.blade.php file :-
Update admin_login.blade.php file to show the error message if admin user or password is incorrect.

We can get the "error message alert bootstrap" script from below website :-
https://getbootstrap.com/docs/4.0/com...

Now check in video, we able to login in admin panel with Guard and logout as well. If username or password is incorrect then we are displaying error message in admin login page.
